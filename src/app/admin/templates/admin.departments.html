<div class="contents">
  <div class="row align-center">
    <div class="column small-12 medium-8 large-6 align-self-middle">

      <h2>{{title}}</h2>

      <fieldset class="fieldset">
        <legend>Add Department</legend>
        <!--Department Form Start-->
        <form [formGroup]="dform">

          <!--Form Submit Error Start-->
          <div class="alert callout" data-closable [class.hide]="!submitError">
            <p><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> <span id="formSubmitError">{{submitErrorText}}</span></p>

            <button class="close-button" aria-label="Dismiss alert" type="button" data-close>
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <!--Form Submit Error End-->

          <div class="row">

            <!--Start Name-->
            <div class="medium-6 columns">
              <label>Department Name <span class="required">*</span>
                <input formControlName="name" type="text" name="name" id="name"
                       required
                       [class.required] = "formErrors.name"
                >
                <span *ngIf="formErrors.name" class="required"><small>{{ formErrors.name }}</small></span>
              </label>

            </div>
            <!--End Name-->




            <!--Start Button-->
            <div class="medium-6 columns ">

                <div class="button-wrapper">
                  <button type="button" (click)="onSubmit()" class="button black button-inline" [disabled]="!dform.valid || submitted">Submit</button>
                  <i class="fa fa-circle-o-notch fa-spin fa-2x fa-fw" [class.hide]="!submitted" ></i>
                </div>


            </div>
            <!--End Button-->

          </div>

        </form>

      </fieldset>

    </div>
  </div>


  <div class="row align-center">
    <div class="column small-12 medium-8 large-6 align-self-middle">
      <!--Department List-->

      <table>
        <thead>
        <tr>
          <th >Name</th>
          <th></th>
        </tr>
        </thead>
        <tbody>

        <tr *ngFor="let item of departmentData">
          <td class="item-value">
            <div *ngIf="editDepartment != item">
              <span>{{item.name}}</span>
              <a class="edit-link"  (click)="onSelectDepartment(item); $event.stopPropagation()"><i class="fa fa-pencil-square-o"></i></a>
            </div>
            <div *ngIf="editDepartment === item" class="row">
              <div class="column">
                <input type="text" class="middle" [(ngModel)]="item.name">
              </div>
              <div class="column div-v-middle">
                <button class="tiny button " (click)="updateDepartment(item)" >Edit</button>
                <button class="tiny secondary hollow button " (click)="onUnselectDepartment()" >Cancel</button>
              </div>


            </div>

          </td>

          <td class="text-right">
            <a  href="#!" ><i class="fa fa-cogs"></i></a>
          </td>

        </tr>

        </tbody>
      </table>
    </div>

  </div>


</div>
